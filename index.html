<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- displays site properly based on user's device -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="styles/styles.css">
  <link href="https://fonts.googleapis.com/css2?family=Hanken+Grotesk:ital,wght@0,100..900;1,100..900&display=swap"
    rel="stylesheet">
  <link rel="icon" type="image/png" sizes="32x32" href="./assets/images/favicon-32x32.png">

  <title>Frontend Mentor | Results summary component</title>

</head>

<body>
  <main>

    <div class="result">

      <h1 id="result-title">Your Result</h1>

      <div class="result-circle">
        <div class="result-number"></div>
        <p id="result-maximum">of 100</p>
      </div>

      <h2>Great</h2>
      <p>You scored higher than 65% of the people who have taken these tests.</p>

    </div>

    <div class="summary">

      <h1 id="summary-title">Summary</h1>

      <div class="category reaction">
        <img class="icon" class="" src="assets/images/icon-reaction.svg" alt="">
        Reaction
        <div class="score">
          <div class="yourscore">
          </div>
          <div class="maxscore">/ 100</div>
        </div>
      </div>

      <div class="category memory">
        <img class="icon" class="" src="assets/images/icon-memory.svg" alt="">
        Memory
        <div class="score">
          <div class="yourscore">
          </div>
          <div class="maxscore">/ 100</div>
        </div>
      </div>

      <div class="category verbal">
        <img class="icon" class="" src="assets/images/icon-verbal.svg" alt="">
        Verbal
        <div class="score">
          <div class="yourscore">
          </div>
          <div class="maxscore">/ 100</div>
        </div>
      </div>

      <div class="category visual">
        <img class="icon" class="" src="assets/images/icon-visual.svg" alt="">
        Visual
        <div class="score">
          <div class="yourscore">
          </div>
          <div class="maxscore">/ 100</div>
        </div>
      </div>

      <button>Continue</button>

    </div>

  </main>

  <script>

    // Fetch the JSON data
    fetch('styles/data.json')
      .then(response => response.json())
      .then(data => {
        // Find the items in the JSON data
        const reactionItem = data.find(item => item.category === 'Reaction');
        const memoryItem = data.find(item => item.category === 'Memory');
        const verbalItem = data.find(item => item.category === 'Verbal');
        const visualItem = data.find(item => item.category === 'Visual');

        // Get the necessary elements from the HTML
        const reactionYourScore = document.querySelector('.category.reaction .yourscore');
        const memoryYourScore = document.querySelector('.category.memory .yourscore');
        const verbalYourScore = document.querySelector('.category.verbal .yourscore');
        const visualYourScore = document.querySelector('.category.visual .yourscore');
        const averageScoreElement = document.querySelector('.result .result-number');

        // Calculate the total score, average score and number of categories
        const totalScore = reactionItem.score + memoryItem.score + verbalItem.score + visualItem.score;
        const numCategories = 4;
        // Set the average score content
        const averageScore = Math.floor(totalScore / numCategories);

        // Set the score content using the data from the JSON
        reactionYourScore.textContent = reactionItem.score;
        memoryYourScore.textContent = memoryItem.score;
        verbalYourScore.textContent = verbalItem.score;
        visualYourScore.textContent = visualItem.score;
        averageScoreElement.textContent = averageScore;

      })
      
      .catch(error => console.error(error));

  </script>

</body>
</html>